<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_cam</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-100000</depth>
  <persistent>-1</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//window_set_cursor(-1);
texture_set_interpolation(0);
//debug_screen("5:3");
//window_set_fullscreen(!window_get_fullscreen());
debug_screen("5:3");
background_visible[1] = true;

randomize();

sprite_index = spr_empt;

so = 0;

sndrn = 0;
rn = 1;

debug = 0;
console = 0; 
debugsurf = surface_create(100,100);

console_init(512, 300, noone, fnt_pixel, 0, 0, 40);
console_add("weather", 1, "name");
console_add("set_stat", 2, "name, value");/*
con_add_func("level", 1);
scr_summon_add(obj_add);
scr_summon_add(obj_add_emi);
scr_summon_add(obj_rb);
scr_summon_add(obj_vod);
scr_summon_add(obj_medkit);

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>801</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_cursor</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>-1</sprite>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>526</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_font</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>12</kind>
            <font>fnt_pixel</font>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///D
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Bar</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Bars</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[1] = 100;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Sets camera position
if (instance_exists(obj_pl)){
var xTo, yTo;;
move_towards_point(mouse_x,mouse_y,0);
xTo = obj_pl.x + lengthdir_x(min(96,distance_to_point(mouse_x,mouse_y)),direction);
yTo = obj_pl.y + lengthdir_y(min(96,distance_to_point(mouse_x,mouse_y)),direction);

x += (xTo-x)/25;
y += (yTo-y)/25;

view_xview[0] = -(view_wview/2)+x;
view_yview[0] = -(view_hview/2)+y;

view_xview[0] = clamp(view_xview[0],0,room_width[room]-view_wview[0]);
view_yview[0] = clamp(view_yview[0],0,room_height[room]-view_hview[0]);

}

view_object[0] = self.id;
view_visible[0] = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>debug_screen("5:3");
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="73">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Cursor
draw_sprite_ext(spr_curs,0,mouse_x,mouse_y,.7,.7,direction,c_white,1);

draw_sprite_ext(spr_curs,1,mouse_x,mouse_y,.7,.7,-direction,c_white,1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw HUD
pl = obj_pl;
//Exts(3,4);

bc = make_colour_rgb(32,32,32);
rd = make_colour_rgb(168,45,45);
bl = make_colour_rgb(104,180,193);
wt = make_colour_rgb(233,233,233);

if (alarm[1] &gt; -1 || alarm[0] &gt; -1){

    if (alarm[1] &gt; -1 &amp;&amp; alarm[0] = -1){as = alarm[1]/100;}else{as = 1;}

    draw_set_alpha(0.5*as);

    draw_rectangle_colour(32,32,75,75,bc,bc,bc,bc,0);
    draw_rectangle_colour(80,32,max(87+(8*pl.mmp),85+(15*pl.mhp)),75,bc,bc,bc,bc,0);


    draw_rectangle_colour(32,90,75,133,bc,bc,bc,bc,0);
    draw_rectangle_colour(80,90,87+(8*pl.mhl),112,bc,bc,bc,bc,0);

    draw_set_alpha(1*as);

    draw_sprite_ext(spr_pist,all,32,32,2,2,0,c_white,as);
    draw_sprite_ext(spr_medk,all,32,90,2,2,0,c_white,as);


    for (i = 1; i &lt;= pl.mhp; i++){
        draw_rectangle_colour(70+(15*i),38,80+(15*i),54,bc,bc,bc,bc,0);
        if (i &lt;= pl.hp){
            draw_rectangle_colour(70+(15*i),38,80+(15*i),54,rd,rd,rd,rd,0);
        }
    }
    
    for (i = 1; i &lt;= pl.mmp; i++){
        draw_rectangle_colour(77+(8*i),60,82+(8*i),70,bc,bc,bc,bc,0);
        if (i &lt;= pl.mp){
            draw_rectangle_colour(77+(8*i),60,82+(8*i),70,bl,bl,bl,bl,0);
        }
    }
    
    for (i = 1; i &lt;= pl.mhl; i++){
        draw_rectangle_colour(77+(8*i),96,82+(8*i),106,bc,bc,bc,bc,0);
        if (i &lt;= pl.hl){
            draw_rectangle_colour(77+(8*i),96,82+(8*i),106,wt,wt,wt,wt,0);
        }
    }
    
    draw_text(0,0,obj_pl.elc);
    
    draw_set_alpha(1);
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Debug
if (!view_enabled){
    //view_current = 0;
    view_visible[0] = true;
    view_enabled = true;
    view_object[0] = self.id;
    debug_screen("5:3");
    room_speed = 60;
}

if (!surface_exists(debugsurf)){
    debugsurf = surface_create(100,100);
    
    debug_screen("5:3");
    console_out("@Error: Screen resized.");
}

debug_key(debug);

if (keyboard_check_pressed(vk_f2)){
console = !console;
}

console_draw(console);

debug_draw(debug, 0);
debug_draw_optional(debug, "Mouse Cords","X="+ string(mouse_x)+"||Y="+string(mouse_y),1,0);
debug_draw_optional(debug, "Player Cords","X="+ string(obj_pl.x)+"||Y="+string(obj_pl.y),2,0);


obj_pl.control = !console;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Backgrounds
if (room = rm_wrd_one)
draw_sprite(back_for_up,all,0,0);
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Rain

if (rn == 1){
edge = 200;//distance outside the view to make extra rain

repeat(15)//number of drops to make each step (default 40)
{
    //make rain drops appear randomly
    instance_create(view_xview-edge+random(view_wview+edge*2),view_yview-edge+random(view_hview+edge*2),obj_rain);
}

          draw_set_alpha(0.3);
          draw_rectangle(view_xview,view_yview,view_wdview(),view_hdview(),0);
          draw_set_alpha(1);
          if (!audio_is_playing(sndrn)){
                    sndrn = audio_play_sound(snd_rain,1,1);
                    audio_sound_gain(sndrn,0,0);
          }
          if (audio_sound_get_gain(sndrn)&lt;0.2){
                    audio_sound_gain(sndrn,1,2000);
          }
}else{
          if (audio_is_playing(sndrn)){
                    if (audio_sound_get_gain(sndrn)&gt;0.8){
                              audio_sound_gain(sndrn,0,1000);
                    }
                    if (audio_sound_get_gain(sndrn)&lt;0.2){
                              audio_stop_sound(sndrn);
                              sndrn = -1;
                    }
          }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="120">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
debug_screen("5:3");
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="115">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//window_set_cursor(-1);
texture_set_interpolation(0);

window_set_fullscreen(!window_get_fullscreen());
debug_screen("5:3");
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="10" enumb="27">
      <action>
        <libid>1</libid>
        <id>332</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_end_game</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
